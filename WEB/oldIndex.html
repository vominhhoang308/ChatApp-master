<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <!--[if IE]>
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <![endif]-->
        <title>ChatApp</title>
        <!-- BOOTSTRAP CORE STYLE CSS -->
        <link href="css/bootstrap.css" rel="stylesheet" />
        <!-- FONT AWESOME  CSS -->
        <link href="css/font-awesome.css" rel="stylesheet" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
        <!-- CUSTOM STYLE CSS -->
        <link href="css/style1.css" rel="stylesheet" />
        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script type="text/javascript"> 
            var websocket = new WebSocket("ws://localhost:8080/ChatApplication/chatroomServerEndpoint");
            websocket.onmessage = function processMessage(message){
                var jsonData = JSON.parse(message.data);
                if(jsonData.message !== null) messagesTextArea.value += jsonData.message + "\n";
            };
            
            function sendMessage(){
                websocket.send(messageText.value);
                messageText.value = "";
            }
            
        </script>
    </head>
    <body onload="displayDate()">


        <div class="container-fluid">
            <div>

                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist" id="tab">
                    <li class="active"><a href="#users" aria-controls="users"  data-toggle="collapse" >Home</a></li>
                    <li ><a href="#profile" aria-controls="profile" role="tab"  ><span class="glyphicon glyphicon-user" style="color:white">Profile</span></a></li>
                    <li ><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-users" style="color:white">Groups</span></a></li>
                    <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-log-out-sign-out" style="color:white">Logout</span></a></li>
                    <li role="presentation">
                        <div class="form-group center" id="serc">
                            <form action="">
                            <label for="query"></label>
                            <input type="text" class="form-control" name="search" id="search" placeholder="Search users"> 
                            </form>
                        </div>
                    </li>

                </ul>
                



            </div>

            <div class="row pad-top pad-bottom">



                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="chat-box-online-div">
                        <div class="chat-box-online-head">

                
                           <div class="input-group">
      <input type="text" class="form-control" placeholder="Search for...">
      <span class="input-group-btn">
          <span class="glyphicon glyphicon-search" ><button class="btn btn-info" type="button" id="button4">Go!</button></span>
      </span> <button class="btn btn-info" type="button" id="button3"><span class="glyphicon glyphicon-plus-sign"></span></button>

    </div>
                            
                        </div>
                        <div class="panel-body chat-box-online" id="users">

                            
                            <hr class="hr-clas-low">
                            <div class="chat-box-online-head">
                                Recent Chats
                            </div>

                            <div class="chat-box-online-left" id="us" onclick="pres3()" >
                                <img src="images/img1.jpg" alt=" user image" class="img-circle"  />
                                -  Hanna Salminen
                                <br />
                                ( <small>Active from 3 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />

                            <div class="chat-box-online-left" id="in" onclick="pres()" >
                                <img src="images/img3.jpg" alt="bootstrap Chat box user image" class="img-circle"  />
                                -  Minh vo
                                <br />
                                ( <small>Active from 10 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />
                            <div class="chat-box-online-left" id="user1" onclick="pres1()">
                                <img src="images/img4.jpg" alt="bootstrap Chat box user image" class="img-circle"  />
                                -  Michael Jackson
                                <br />
                                ( <small>Active from 3 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />
                            <div class="chat-box-online-head">
                                Other Users
                            </div>

                            <div class="chat-box-online-right">
                                <img src="images/user.gif" alt="bootstrap Chat box user image" class="img-circle" />
                                -  Kevin Hart
                                <br />
                                ( <small>Active from 10 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />
                            <div class="chat-box-online-left">
                                <img src="images/user.png" alt="bootstrap Chat box user image" class="img-circle" />
                                -  Jukka Jalonen
                                <br />
                                ( <small>Active from 3 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />

                            <div class="chat-box-online-right">
                                <img src="images/user.gif" alt="bootstrap Chat box user image" class="img-circle" />
                                - Nelson Mandela
                                <br />
                                ( <small>Active from 10 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />
                            <div class="chat-box-online-left">
                                <img src="images/user.png" alt="bootstrap Chat box user image" class="img-circle" />
                                -  Jukka Jalonen
                                <br />
                                ( <small>Active from 3 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />

                            <div class="chat-box-online-right">
                                <img src="images/user.gif" alt="bootstrap Chat box user image" class="img-circle" />
                                -  Ronaldo
                                <br />
                                ( <small>Active from 4 hours</small> )
                            </div>
                            <hr class="hr-clas-low" />
                        </div>

                    </div>

                </div>

                <div class=" col-lg-4 col-md-4 col-sm-4" id="demo">
                    <div class="chat-box-div">
                        <div class="chat-box-head">
                            GROUP CHAT HISTORY
                            <div class="btn-group pull-right">
                                
                                <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" >
                                    <span class="glyphicon glyphicon-cog"></span>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="#"><span class="glyphicon glyphicon-map-marker"></span>&nbsp;Invisible</a></li>
                                    <li><a href="#"><span class="glyphicon glyphicon-comment"></span>&nbsp;Online</a></li>
                                    <li><a href="#"><span class="glyphicon glyphicon-lock"></span>&nbsp;Busy</a></li>
                                    <li class="divider"></li>
                                    
                                </ul>
                            </div>
                            <div class="btn-group" id="but1">
                                
                                <button class="btn btn-info" type="button"><span class="glyphicon glyphicon-user"></span></button>

                            </div>
                            
                        </div><!-- Tänne tulee viestit-->
                        <div class="panel-body chat-box-main" id="messageTextArea" ></div>>

                        </div><!-- Tänne tulee viestit-->
                        <div class="chat-box-footer">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Enter Text Here..." id="messageText">
                                <span class="input-group-btn">
                                    <button class="btn btn-info" type="button" onclick="sendMessage();">SEND</button>
                                </span>
                            </div>
                        </div>

                    </div>

                </div>
                <div class="col-lg-4 col-md-4 col-sm-4" >
                    <div class="chat-box-new-div">
                        <div class="chat-box-new-head">
                            Details
                        </div>
                        <div class="panel-body chat-box-new" id="chat" >

                            <li>
                                <h3 style="color:whitesmoke">Welcome <%=userName%> !</h3>
                                <h3 style="color:whitesmoke">Welcome to ${roomName} !</h3>
                            </li>
                            
                        </div>
                        <div>
                          <hr class="hr-class-low" />

                            <button class="btn btn-info pull-right" type="button" ><span class="glyphicon glyphicon-phone">Call</span></button>  
                            </div>

                    </div>

                </div>
            </div>
        

        <!-- USING SCRIPTS BELOW TO REDUCE THE LOAD TIME -->
        <!-- CORE JQUERY SCRIPTS FILE -->
       <script src="js/jquery-1.11.1.js"></script>
    <!-- CORE BOOTSTRAP SCRIPTS  FILE -->
    <script src="js/bootstrap.js"></script>
        <script>
                                        function pres() {

                                            var a = document.getElementById("in").innerHTML;
                                            var b = document.getElementById("chat");
                                            var c = a.value;

                                            b.innerHTML = a;


                                        }
                                        
                                        function pres1() {

                                            var a = document.getElementById("user1").innerHTML;
                                            var b = document.getElementById("chat");
                                            var c = a.value;

                                            b.innerHTML = a;


                                        }
                                        
                                        function pres3() {

                                            var a = document.getElementById("us").innerHTML;
                                            var b = document.getElementById("chat");
                                            var c = a.value;

                                            b.innerHTML = a;
                                            
                                            
                                           function renderList(username, name) {
                                               
                                                   
                                                   
                                                   if (username != currentUser) {
            var button;
            var text;
            button = document.createElement("BUTTON");
            button.className = "list-group-item";
            button.id = username;
            button.value = username;
            button.type = "button";
            text = document.createTextNode(name);
            button.appendChild(text);
            $('#user-list').append(button);
        }
    }


                                        }
                                        
                                        
                                        
                                 

        </script>
                   <div class="panel-group">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          
        </h4>
      </div>
      <div >
         <div class="panel-body">
             <img src="images/img1.jpg" alt="picture" class="img-thumbnail">
        
          </div>
              <div class="panel-footer">
                  <ul class="list-group">
                      <label for="usrname">Name:</label>
                      <li class="list-group-item" id="usrname"><%=userName%></li>
     
                      <li class="list-group-item"></li>
                      <li class="list-group-item">Third item</li>
                  </ul>
        
                </div>
      </div>
    </div>
  </div>
    </body>

</html>
